# Halo CMS Dify Plugin å¿«é€Ÿä¿®å¤å‘½ä»¤

## ğŸš€ å¸¸ç”¨ä¿®å¤å‘½ä»¤

### 1. é‡å¯è¿œç¨‹è°ƒè¯•
```bash
# åœæ­¢å½“å‰è¿›ç¨‹ (Ctrl+C)
# é‡æ–°å¯åŠ¨
python -m main
```

### 2. æ¸…ç†ç¼“å­˜æ–‡ä»¶
```bash
# Windows PowerShell
Get-ChildItem -Recurse -Directory -Name "__pycache__" | ForEach-Object { Remove-Item -Recurse -Force $_ }

# Linux/macOS
find . -type d -name "__pycache__" -exec rm -rf {} +
```

### 3. é‡æ–°å®‰è£…ä¾èµ–
```bash
pip uninstall -r requirements.txt -y
pip install -r requirements.txt
```

### 4. æ£€æŸ¥æ–‡ä»¶æƒé™
```bash
# Linux/macOS
chmod +x main.py
chmod -R 755 tools/
chmod -R 755 provider/
```

### 5. éªŒè¯é…ç½®æ–‡ä»¶
```bash
# æ£€æŸ¥ manifest.yaml è¯­æ³•
python -c "import yaml; yaml.safe_load(open('manifest.yaml'))"

# æ£€æŸ¥ requirements.txt
pip check
```

## ğŸ”§ è°ƒè¯•å‘½ä»¤

### 1. æµ‹è¯•å•ä¸ªå·¥å…·
```python
# åœ¨ Python ä¸­æµ‹è¯•
from tools.halo_setup import HaloSetupTool
tool = HaloSetupTool()
# æ‰‹åŠ¨è°ƒç”¨æµ‹è¯•
```

### 2. æ£€æŸ¥ç½‘ç»œè¿æ¥
```bash
# æµ‹è¯• Halo CMS è¿æ¥
curl -I https://your-halo-site.com

# æµ‹è¯• Dify è°ƒè¯•æœåŠ¡
telnet debug.dify.ai 5003
```

### 3. æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
```python
import logging
logging.basicConfig(level=logging.DEBUG)
```

## ğŸ› å¸¸è§é—®é¢˜å¿«é€Ÿä¿®å¤

### 1. å¯¼å…¥é”™è¯¯
```bash
# é‡æ–°ç”Ÿæˆ __init__.py
echo "# Halo Blog Tools" > tools/__init__.py
echo "# Halo Blog Tools Provider" > provider/__init__.py
```

### 2. ç‰ˆæœ¬å†²çª
```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/macOS
# æˆ–
venv\Scripts\activate     # Windows

pip install -r requirements.txt
```

### 3. ç¼–ç é—®é¢˜
```python
# åœ¨æ–‡ä»¶å¼€å¤´æ·»åŠ 
# -*- coding: utf-8 -*-
```

### 4. æƒé™é—®é¢˜
```python
# æ£€æŸ¥è®¿é—®ä»¤ç‰Œ
import requests
headers = {"Authorization": "Bearer your-token"}
response = requests.get("https://your-halo-site.com/apis/api.console.halo.run/v1alpha1/users/-", headers=headers)
print(response.status_code, response.text)
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–å‘½ä»¤

### 1. å†…å­˜ä½¿ç”¨æ£€æŸ¥
```python
import psutil
import os
process = psutil.Process(os.getpid())
print(f"Memory: {process.memory_info().rss / 1024 / 1024:.2f} MB")
```

### 2. è¯·æ±‚æ—¶é—´ç›‘æ§
```python
import time
start = time.time()
# æ‰§è¡Œè¯·æ±‚
end = time.time()
print(f"Request took: {end - start:.2f}s")
```

### 3. è¿æ¥æ± ä¼˜åŒ–
```python
import requests
session = requests.Session()
session.mount('https://', requests.adapters.HTTPAdapter(pool_connections=10, pool_maxsize=20))
```

## ğŸ”„ ç‰ˆæœ¬æ›´æ–°å‘½ä»¤

### 1. æ›´æ–°ç‰ˆæœ¬å·
```bash
# ä½¿ç”¨ sed æ‰¹é‡æ›´æ–° (Linux/macOS)
sed -i 's/version: 0.0.1/version: 0.0.2/g' manifest.yaml

# ä½¿ç”¨ PowerShell (Windows)
(Get-Content manifest.yaml) -replace 'version: 0.0.1', 'version: 0.0.2' | Set-Content manifest.yaml
```

### 2. ç”Ÿæˆå˜æ›´æ—¥å¿—
```bash
git log --oneline --since="1 week ago" > CHANGELOG.md
```

### 3. æ‰“åŒ…å‘å¸ƒ
```bash
# åˆ›å»ºå‘å¸ƒåŒ…
zip -r halo-blog-tools-v0.0.1.zip . -x "*.git*" "*__pycache__*" "*.env" "key.txt"
```

## ğŸ§ª æµ‹è¯•å‘½ä»¤

### 1. å•å…ƒæµ‹è¯•
```bash
python -m pytest tests/ -v
```

### 2. é›†æˆæµ‹è¯•
```bash
python test_integration.py
```

### 3. æ€§èƒ½æµ‹è¯•
```bash
python -m cProfile -o profile.stats main.py
```

## ğŸ“ æ—¥å¿—åˆ†æå‘½ä»¤

### 1. æå–é”™è¯¯æ—¥å¿—
```bash
grep "ERROR" *.log | tail -20
```

### 2. ç»Ÿè®¡è¯·æ±‚ç±»å‹
```bash
grep -o "POST\|GET\|PUT\|DELETE" *.log | sort | uniq -c
```

### 3. åˆ†æå“åº”æ—¶é—´
```bash
grep "Request took" *.log | awk '{print $NF}' | sort -n
```

## ğŸ” å®‰å…¨æ£€æŸ¥å‘½ä»¤

### 1. æ£€æŸ¥æ•æ„Ÿä¿¡æ¯
```bash
grep -r "password\|token\|secret" . --exclude-dir=.git
```

### 2. éªŒè¯ HTTPS
```bash
curl -I -s https://your-halo-site.com | grep -i "strict-transport-security"
```

### 3. æ£€æŸ¥ä¾èµ–æ¼æ´
```bash
pip audit
```

## ğŸš¨ ç´§æ€¥ä¿®å¤å‘½ä»¤

### 1. å›æ»šåˆ°ä¸Šä¸€ç‰ˆæœ¬
```bash
git checkout HEAD~1 -- .
```

### 2. å¼ºåˆ¶é‡ç½®
```bash
git reset --hard HEAD
git clean -fd
```

### 3. ç´§æ€¥åœæ­¢æœåŠ¡
```bash
# æŸ¥æ‰¾è¿›ç¨‹
ps aux | grep python
# å¼ºåˆ¶ç»ˆæ­¢
kill -9 <PID>
```

## ğŸ“‹ æ£€æŸ¥æ¸…å•

### éƒ¨ç½²å‰æ£€æŸ¥
- [ ] ç‰ˆæœ¬å·å·²æ›´æ–°
- [ ] ä¾èµ–å·²å®‰è£…
- [ ] é…ç½®æ–‡ä»¶æ­£ç¡®
- [ ] æµ‹è¯•é€šè¿‡
- [ ] æ–‡æ¡£å·²æ›´æ–°

### é—®é¢˜æ’æŸ¥æ¸…å•
- [ ] æ£€æŸ¥ç½‘ç»œè¿æ¥
- [ ] éªŒè¯è®¿é—®ä»¤ç‰Œ
- [ ] ç¡®è®¤æƒé™è®¾ç½®
- [ ] æŸ¥çœ‹é”™è¯¯æ—¥å¿—
- [ ] æµ‹è¯•APIç«¯ç‚¹
